<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>State Matcher</title>
  <style>
    .match {
      margin: 5px 0;
    }
    .match.correct {
      background-color: lightgreen;
    }
    .match.incorrect {
      background-color: lightcoral;
    }
    .match span {
      display: inline-block;
      width: 20px;
      text-align: center;
    }
    .input-field {
      width: 30px;
      text-align: center;
      margin: 2px;
    }
    .row {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

<h2>State Matcher</h2>

<div id="state-inputs">
  <div class="row">
    <label for="state-1">State 1:</label>
    <input class="input-field" type="text" id="state-1" maxlength="1">
    <label for="state-2">State 2:</label>
    <input class="input-field" type="text" id="state-2" maxlength="1">
    <label for="state-3">State 3:</label>
    <input class="input-field" type="text" id="state-3" maxlength="1">
    <label for="state-4">State 4:</label>
    <input class="input-field" type="text" id="state-4" maxlength="1">
    <label for="state-5">State 5:</label>
    <input class="input-field" type="text" id="state-5" maxlength="1">
    <label for="state-6">State 6:</label>
    <input class="input-field" type="text" id="state-6" maxlength="1">
    <label for="state-7">State 7:</label>
    <input class="input-field" type="text" id="state-7" maxlength="1">
    <label for="state-8">State 8:</label>
    <input class="input-field" type="text" id="state-8" maxlength="1">
    <label for="state-9">State 9:</label>
    <input class="input-field" type="text" id="state-9" maxlength="1">
    <label for="state-10">State 10:</label>
    <input class="input-field" type="text" id="state-10" maxlength="1">
    <label for="state-11">State 11:</label>
    <input class="input-field" type="text" id="state-11" maxlength="1">
    <label for="state-12">State 12:</label>
    <input class="input-field" type="text" id="state-12" maxlength="1">
    <label for="state-13">State 13:</label>
    <input class="input-field" type="text" id="state-13" maxlength="1">
  </div>
</div>

<h3>Active Combinations (Matches)</h3>
<div id="matches"></div>

<script>
  const activeCombinations = [
    ['1', '1', '1', '1', 'X', '2', '1', '2', 'X', '1', '2', '1', 'X'],
    ['X', '2', 'X', '1', 'X', 'X', '2', '1', '1', 'X', 'X', '2', '1'],
    ['2', 'X', '1', '1', '2', 'X', '2', '1', 'X', '2', '1', 'X', 'X'],
    ['1', '2', 'X', 'X', 'X', '2', '1', 'X', '1', '1', 'X', 'X', '2'],
    // More predefined active combinations go here...
  ];

  // A function to compare the input state with each active combination
  function compareStates(inputState) {
    const results = [];
    activeCombinations.forEach((combination, index) => {
      let matches = 0;
      inputState.forEach((state, i) => {
        if (state === '' || state.toUpperCase() === combination[i].toUpperCase()) {
          matches++;
        }
      });
      if (matches >= 10) {  // Only consider combinations with 10 or more matches
        results.push({ combination: combination.join(''), matches });
      }
    });
    return results;
  }

  // Function to update the matches displayed on the page
  function updateMatches() {
    const inputState = [];
    for (let i = 1; i <= 13; i++) {
      const state = document.getElementById(`state-${i}`).value.trim();
      inputState.push(state);
    }

    const matches = compareStates(inputState);

    // Clear previous matches
    const matchesDiv = document.getElementById('matches');
    matchesDiv.innerHTML = '';

    // Display new matches
    matches.sort((a, b) => b.matches - a.matches); // Sort matches by most matches
    matches.forEach((match) => {
      const matchDiv = document.createElement('div');
      matchDiv.classList.add('match');
      matchDiv.classList.add(match.matches === 13 ? 'correct' : 'incorrect');
      matchDiv.innerHTML = `Combination: ${match.combination} | Matches: ${match.matches}`;
      matchesDiv.appendChild(matchDiv);
    });
  }

  // Add event listeners to the input fields
  const inputFields = document.querySelectorAll('.input-field');
  inputFields.forEach(input => {
    input.addEventListener('input', updateMatches);
  });

  // Initialize the match display on page load
  updateMatches();
</script>

</body>
</html>
